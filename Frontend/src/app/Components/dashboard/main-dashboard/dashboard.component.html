<app-main-sidebar></app-main-sidebar>
<app-main-nav
  (searchResults)="displayResults($event)"
  (sortByResults)="sortResults($event)"
></app-main-nav>

<main class="dashboard-container default-dash-container">
  <!-- Delete All Links Prompt -->
  @if (tempTitle === "Trash") {
    <p-toast />
    <span>
      <p-button
        (onClick)="confirm1($event)"
        label="Clear All"
        severity="danger"
      />
      <p-confirmpopup />
    </span>
  }

  <!--Questionable, not sure if need rn-->
  <section
    [ngClass]="previews === true ? 'content-grid' : 'content-grid-no-previews'"
    @fadeIn
    @fadeOut
    style="padding-top: 20px"
  >
    @for (link of tempLinks; track link; let i = $index) {
      <div>
        <app-link-item
          [index]="i"
          [isOptionsVisible]="showLinkOptions === i"
          (showOptionsChange)="setShowLinkOptions($event)"
          [itemData]="link"
          (linkUpdate)="linkEvent($event)"
          (linkPermDelete)="deletePerm($event)"
          (showEmbed)="setEmbed($event)"
          (showWebPreview)="setWebView($event)"
        ></app-link-item>
      </div>
    }
  </section>

  <!-- <button type="button" (click)="scrollToTop()" class="to-top">
    Back to Top
  </button> -->

  @if (!hideEmbedLink && showEmbedLink) {
    <app-viewer
      [itemData]="showEmbedLink"
      (closeEmbedEmit)="closeEmbed()"
    ></app-viewer>
  }

  @if (!hideWebPreview && showWebPreview) {
    <app-web-view
      [linkData]="showWebPreview"
      (closeWindow)="closeWebView()"
    ></app-web-view>
  }
</main>
