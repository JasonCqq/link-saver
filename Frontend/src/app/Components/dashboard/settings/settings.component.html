<app-main-sidebar></app-main-sidebar>

<main class="settings-page">
  <div class="settings-flex">
    <h1>User Settings</h1>
  </div>

  <div class="settings-grid">
    <section class="settings-item">
      <h3>Account</h3>
      <p>ID: {{ user.settings.userId }}</p>
      <p>
        Username: <span>{{ user.user.username }}</span>
      </p>
      <p>
        Email: <span>{{ user.user.email }}</span>
      </p>
      <p>
        Account Created:
        <span>{{ user.user.creationDate | date: "shortDate" }}</span>
      </p>

      <p-button
        severity="danger"
        class="settings-delete"
        (click)="toggleDeletePrompt()"
        label="Delete Account"
      >
      </p-button>

      <p-dialog
        header="Delete Account"
        [modal]="true"
        [(visible)]="deletePrompt"
        [style]="{ width: '25rem' }"
      >
        <span class="p-text-secondary block mb-4"
          >This action is permanent. <br />
        </span>

        <span class="p-text-secondary block mb-4">
          Type "confirmdelete" to continue.<br />
        </span>

        <div class="flex items-center gap-4 mb-4">
          <input
            pInputText
            id="delete-confirm"
            class="flex-auto"
            autocomplete="off"
            type="text"
            required
          />
        </div>

        <p-button
          severity="danger"
          label="Confirm"
          (click)="(toggleDeletePrompt); (deleteAccount)"
        />
      </p-dialog>
    </section>

    <section class="settings-item">
      <h3>Extra</h3>
      <a routerLink="/versions">Changelogs</a>
      <a href="https://github.com/JasonCqq/link-saver" target="_blank"
        >Source code</a
      >
      <a routerLink="/privacy">Privacy Policy</a>

      <a routerLink="/terms">Terms of Service</a>
    </section>
  </div>
</main>
