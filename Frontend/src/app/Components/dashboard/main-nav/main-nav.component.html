<app-mass-edit-form
  [(visible)]="massEditForm"
  (massEditting)="toggleMassEdit()"
></app-mass-edit-form>

<nav class="main-nav">
  <div class="nav-flex">
    <p class="nav-title">{{ title ? title : "Dashboard" }}</p>
  </div>

  <div class="nav-container">
    <div class="nav-buttons">
      <p-button (click)="createForm = true"> Add Link </p-button>
      <app-link-form [(visible)]="createForm"></app-link-form>

      <p-iconfield [formGroup]="query">
        <p-inputicon class="pi pi-search" />
        <input
          type="text"
          pInputText
          placeholder="Search"
          formControlName="linkQuery"
          #linkQuery
        />
      </p-iconfield>

      <form [formGroup]="sortingForm">
        <p-select
          [options]="sort"
          optionLabel="name"
          placeholder="Sort By"
          formControlName="sortBy"
          (onChange)="submitSortingForm($event.value.value)"
        />
      </form>

      <div class="mass-edit">
        @if (!massEditting) {
          <p-button (click)="toggleMassEdit()" pTooltip="Enter Edit Mode"
            >Mass Edit</p-button
          >
        }

        @if (massEditting) {
          <p-button
            (click)="toggleMassEdit()"
            pTooltip="Exit Edit Mode"
            severity="secondary"
          >
            Exit Edit
          </p-button>
        }

        @if (massEditting) {
          <p-button
            (click)="massEditForm = true"
            pTooltip="Apply Edit"
            severity="success"
            >Apply
          </p-button>
        }
      </div>
    </div>
  </div>
</nav>
